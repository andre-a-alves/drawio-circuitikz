function mxShapeElectricalTestPoint(a,d,e,b){mxShape.call(this);this.bounds=a;this.fill=d;this.stroke=e;this.strokewidth=null!=b?b:1}mxUtils.extend(mxShapeElectricalTestPoint,mxShape);mxShapeElectricalTestPoint.prototype.cst={SHAPE_TEST_POINT:"mxgraph.electrical.transmission.testPoint"};
mxShapeElectricalTestPoint.prototype.paintVertexShape=function(a,d,e,b,c){a.translate(d,e);d=mxUtils.getValue(this.style,mxConstants.STYLE_STROKECOLOR,"#000000");e=Math.min(b,c);a.setFillColor(d);a.begin();a.ellipse(.5*b-e/2,0,e,e);a.fillAndStroke();c>b&&(a.begin(),a.moveTo(.5*b,e),a.lineTo(.5*b,c),a.stroke())};mxCellRenderer.registerShape(mxShapeElectricalTestPoint.prototype.cst.SHAPE_TEST_POINT,mxShapeElectricalTestPoint);
mxShapeElectricalTestPoint.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0)];function mxShapeElectricalLogicGate(a,d,e,b){mxShape.call(this);this.bounds=a;this.fill=d;this.stroke=e;this.strokewidth=null!=b?b:1}mxUtils.extend(mxShapeElectricalLogicGate,mxShape);mxShapeElectricalLogicGate.prototype.cst={SHAPE_LOGIC_GATE:"mxgraph.electrical.logic_gates.logic_gate"};
mxShapeElectricalLogicGate.prototype.customProperties=[{name:"operation",dispName:"Operation",type:"enum",defVal:"and",enumList:[{val:"and",dispName:"And"},{val:"or",dispName:"Or"},{val:"xor",dispName:"Xor"}]},{name:"numInputs",dispName:"Inputs",type:"int",min:2,defVal:2},{name:"negating",dispName:"Negating",type:"bool",defVal:0}];
mxShapeElectricalLogicGate.prototype.paintVertexShape=function(a,d,e,b,c){a.translate(d,e);d=parseInt(mxUtils.getValue(this.style,"numInputs","2"));e=c/d;var f=.5*e;a.begin();a.moveTo(.8*b,.5*c);a.lineTo(b,.5*c);for(var h=mxUtils.getValue(this.style,"operation","and"),g=0;g<d;g++)a.moveTo(0,f),"and"==h?a.lineTo(.2*b,f):a.lineTo(.23*b,f),f+=e;a.stroke();switch(h){case "xor":a.begin(),a.moveTo(.1*b,0),a.arcTo(.6*b,c,0,0,1,.1*b,c),a.stroke();case "or":a.begin();a.moveTo(.4*b,0);a.arcTo(.45*b,.83*c,0,
0,1,.8*b,.5*c);a.arcTo(.45*b,.83*c,0,0,1,.4*b,c);a.lineTo(.15*b,c);a.arcTo(.6*b,c,0,0,0,.15*b,0);a.close();a.fillAndStroke();break;default:a.begin(),a.moveTo(.2*b,0),a.lineTo(.5*b,0),a.arcTo(.3*b,.5*c,0,0,1,.5*b,c),a.lineTo(.2*b,c),a.close(),a.fillAndStroke()}"1"==mxUtils.getValue(this.style,"negating","0")&&(this.style.negSize?(d=parseFloat(mxUtils.getValue(this.style,"negSize","0.13")),d=Math.min(b*d*.5,c*d)):d=Math.min(.04*b,.07*c),a.begin(),a.ellipse(.8*b,.5*c-.5*d,d,d),a.fillAndStroke())};
mxCellRenderer.registerShape(mxShapeElectricalLogicGate.prototype.cst.SHAPE_LOGIC_GATE,mxShapeElectricalLogicGate);mxShapeElectricalLogicGate.prototype.getConstraints=function(a){var d=[new mxConnectionConstraint(new mxPoint(1,.5),!1)];a=parseInt(mxUtils.getValue(a,"numInputs","2"));for(var e=1/a,b=.5*e,c=0;c<a;c++)d.push(new mxConnectionConstraint(new mxPoint(0,b),!1)),b+=e;return d};
function mxShapeElectricalBuffer(a,d,e,b){mxShape.call(this);this.bounds=a;this.fill=d;this.stroke=e;this.strokewidth=null!=b?b:1}mxUtils.extend(mxShapeElectricalBuffer,mxShape);mxShapeElectricalBuffer.prototype.cst={SHAPE_BUFFER2:"mxgraph.electrical.logic_gates.buffer2"};mxShapeElectricalBuffer.prototype.customProperties=[{name:"negating",dispName:"Negating",type:"bool",defVal:0}];
mxShapeElectricalBuffer.prototype.paintVertexShape=function(a,d,e,b,c){a.translate(d,e);a.begin();a.moveTo(0,.5*c);a.lineTo(.2*b,.5*c);a.moveTo(.8*b,.5*c);a.lineTo(b,.5*c);a.stroke();a.begin();a.moveTo(.2*b,0);a.lineTo(.8*b,.5*c);a.lineTo(.2*b,c);a.close();a.fillAndStroke();"1"==mxUtils.getValue(this.style,"negating","0")&&(d=Math.min(.04*b,.07*c),a.begin(),a.ellipse(.8*b,.5*c-.5*d,d,d),a.fillAndStroke())};mxCellRenderer.registerShape(mxShapeElectricalBuffer.prototype.cst.SHAPE_BUFFER2,mxShapeElectricalBuffer);
mxShapeElectricalBuffer.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0)];function mxShapeElectricalDualInLineIC(a,d,e,b){mxShape.call(this);this.bounds=a;this.fill=d;this.stroke=e;this.strokewidth=null!=b?b:1}mxUtils.extend(mxShapeElectricalDualInLineIC,mxShape);mxShapeElectricalDualInLineIC.prototype.cst={SHAPE_DUAL_INLINE_IC:"mxgraph.electrical.logic_gates.dual_inline_ic"};
mxShapeElectricalDualInLineIC.prototype.customProperties=[{name:"pinStyle",dispName:"Pin Style",type:"enum",defVal:"line",enumList:[{val:"line",dispName:"Line"},{val:"square",dispName:"Square"}]},{name:"startPin",dispName:"Starting Pin",type:"enum",defVal:"n",enumList:[{val:"n",dispName:"N"},{val:"e",dispName:"E"},{val:"s",dispName:"S"},{val:"w",dispName:"W"}]},{name:"pinSpacing",dispName:"Pin Spacing",type:"float",min:1,defVal:20},{name:"pinLabelType",dispName:"Pin Label Type",type:"enum",defVal:"gen",
enumList:[{val:"gen",dispName:"Generated"},{val:"cust",dispName:"Custom"}]},{name:"labelCount",dispName:"Number of Labels",type:"int",defVal:20,dependentProps:["labelNames"]},{name:"labelNames",dispName:"Label Names",type:"staticArr",subType:"string",sizeProperty:"labelCount",subDefVal:"a"}];
mxShapeElectricalDualInLineIC.prototype.paintVertexShape=function(a,d,e,b,c){a.translate(d,e);d=mxUtils.getValue(this.style,"fontColor","#000000");a.setFontColor(d);d=mxUtils.getValue(this.style,"startPin","n");e=mxUtils.getValue(this.style,"pinLabelType","gen");var f=decodeURIComponent(mxUtils.getValue(this.style,"labelNames","").toString()).split(",");a.begin();"n"==d||"s"==d?a.rect(10,0,b-20,c):a.rect(0,10,b,c-20);a.fillAndStroke();var h=parseFloat(mxUtils.getValue(this.style,"pinSpacing","20")),
g=mxUtils.getValue(this.style,"pinStyle","line"),l=parseFloat(mxUtils.getValue(this.style,"fontSize","12")),n="n"==d||"s"==d?parseInt(c/h):parseInt(b/h);if("line"==g){a.setFontSize(.8*l);g=1;l=.5*h;a.begin();if("n"==d||"s"==d)for(;g*h<=c;){a.moveTo(0,l);a.lineTo(10,l);a.moveTo(b-10,l);a.lineTo(b,l);var k="n"==d?g:n+g;"gen"==e?a.text(20,l,0,0,k.toString(),mxConstants.ALIGN_LEFT,mxConstants.ALIGN_MIDDLE,0,null,0,0,0):k-1<f.length&&a.text(20,l,0,0,f[k-1].toString(),mxConstants.ALIGN_LEFT,mxConstants.ALIGN_MIDDLE,
0,null,0,0,0);k="n"==d?2*n-g+1:n-g+1;"gen"==e?a.text(b-20,l,0,0,k.toString(),mxConstants.ALIGN_RIGHT,mxConstants.ALIGN_MIDDLE,0,null,0,0,0):k-1<f.length&&a.text(b-20,l,0,0,f[k-1].toString(),mxConstants.ALIGN_RIGHT,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);l+=h;g++}else for(;g*h<=b;)a.moveTo(l,0),a.lineTo(l,10),a.moveTo(l,c-10),a.lineTo(l,c),k="e"==d?n-g+1:2*n-g+1,"gen"==e?a.text(l,20,0,0,k.toString(),mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0):k-1<f.length&&a.text(l,20,0,0,f[k-1].toString(),
mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0),k="e"==d?n+g:g,"gen"==e?a.text(l,c-20,0,0,k.toString(),mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0):k-1<f.length&&a.text(l,c-20,0,0,f[k-1].toString(),mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0),l+=h,g++;a.stroke()}else if(a.setFontSize(.5*l),g=1,l=.5*h,"n"==d||"s"==d)for(;g*h<=c;)a.begin(),a.rect(0,l-.25*h,10,.5*h),a.fillAndStroke(),a.begin(),a.rect(b-10,l-.25*h,10,.5*h),a.fillAndStroke(),k="n"==
d?g:n+g,"gen"==e?a.text(5,l+1,0,0,k.toString(),mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0):k-1<f.length&&a.text(5,l+1,0,0,f[k-1].toString(),mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0),k="n"==d?2*n-g+1:n-g+1,"gen"==e?a.text(b-5,l+1,0,0,k.toString(),mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0):k-1<f.length&&a.text(b-5,l+1,0,0,f[k-1].toString(),mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0),l+=h,g++;else for(;g*h<=b;)a.begin(),
a.rect(l-.25*h,0,.5*h,10),a.fillAndStroke(),a.begin(),a.rect(l-.25*h,c-10,.5*h,10),a.fillAndStroke(),k="e"==d?n-g+1:2*n-g+1,"gen"==e?a.text(l,5,0,0,k.toString(),mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0):k-1<f.length&&a.text(l,5,0,0,f[k-1].toString(),mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0),k="e"==d?n+g:g,"gen"==e?a.text(l,c-5,0,0,k.toString(),mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0):k-1<f.length&&a.text(l,c-5,0,0,f[k-1].toString(),
mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0),l+=h,g++;a.setShadow(!1);a.begin();switch(d){case "e":40<c&&(a.moveTo(b,.5*c-10),a.arcTo(12,12,0,0,0,b,.5*c+10));break;case "s":40<b&&(a.moveTo(.5*b-10,c),a.arcTo(12,12,0,0,1,.5*b+10,c));break;case "w":40<c&&(a.moveTo(0,.5*c-10),a.arcTo(12,12,0,0,1,0,.5*c+10));break;default:40<b&&(a.moveTo(.5*b-10,0),a.arcTo(12,12,0,0,0,.5*b+10,0))}a.stroke()};
mxCellRenderer.registerShape(mxShapeElectricalDualInLineIC.prototype.cst.SHAPE_DUAL_INLINE_IC,mxShapeElectricalDualInLineIC);
mxShapeElectricalDualInLineIC.prototype.getConstraints=function(a,d,e){a=[];var b=parseFloat(mxUtils.getValue(this.style,"pinSpacing","20")),c=mxUtils.getValue(this.style,"startPin","n"),f=1,h=.5*b;parseInt(e/b);if("n"==c||"s"==c)for(;f*b<=e;)a.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,h)),a.push(new mxConnectionConstraint(new mxPoint(1,0),!1,null,0,h)),h+=b,f++;else for(;f*b<=d;)a.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,h,0)),a.push(new mxConnectionConstraint(new mxPoint(0,
1),!1,null,h,0)),h+=b,f++;return a};function mxShapeElectricalQFPIC(a,d,e,b){mxShape.call(this);this.bounds=a;this.fill=d;this.stroke=e;this.strokewidth=null!=b?b:1}mxUtils.extend(mxShapeElectricalQFPIC,mxShape);mxShapeElectricalQFPIC.prototype.cst={SHAPE_QFP_IC:"mxgraph.electrical.logic_gates.qfp_ic"};
mxShapeElectricalQFPIC.prototype.customProperties=[{name:"pinStyle",dispName:"Pin Style",type:"enum",defVal:"line",enumList:[{val:"line",dispName:"Line"},{val:"square",dispName:"Square"}]},{name:"startPin",dispName:"Starting Pin",type:"enum",defVal:"sw",enumList:[{val:"sw",dispName:"SW"},{val:"nw",dispName:"NW"},{val:"ne",dispName:"NE"},{val:"se",dispName:"SE"}]},{name:"pinSpacing",dispName:"Pin Spacing",type:"float",min:1,defVal:20},{name:"pinLabelType",dispName:"Pin Label Type",type:"enum",defVal:"gen",
enumList:[{val:"gen",dispName:"Generated"},{val:"cust",dispName:"Custom"}]},{name:"labelCount",dispName:"Number of Labels",type:"int",defVal:40,dependentProps:["labelNames"]},{name:"labelNames",dispName:"Label Names",type:"staticArr",subType:"string",sizeProperty:"labelCount",subDefVal:"a"}];
mxShapeElectricalQFPIC.prototype.paintVertexShape=function(a,d,e,b,c){a.translate(d,e);a.begin();a.moveTo(15,10);a.lineTo(b-15,10);a.lineTo(b-10,15);a.lineTo(b-10,c-15);a.lineTo(b-15,c-10);a.lineTo(15,c-10);a.lineTo(10,c-15);a.lineTo(10,15);a.close();a.fillAndStroke();d=parseFloat(mxUtils.getValue(this.style,"pinSpacing","20"));var f=mxUtils.getValue(this.style,"pinStyle","line");e=mxUtils.getValue(this.style,"pinLabelType","gen");var h=decodeURIComponent(mxUtils.getValue(this.style,"labelNames",
"").toString()).split(","),g=parseFloat(mxUtils.getValue(this.style,"fontSize","12")),l=mxUtils.getValue(this.style,"fontColor","#000000");a.setFontColor(l);l=mxUtils.getValue(this.style,"startPin","sw");if("line"==f){a.setFontSize(.8*g);f=1;g=.5*d+20;a.begin();for(var n=parseInt((c-d-40)/d)+1,k=parseInt((b-d-40)/d)+1;g<=c-.5*d-20;){a.moveTo(0,g);a.lineTo(10,g);a.moveTo(b-10,g);a.lineTo(b,g);switch(l){case "nw":var m=f;break;case "ne":m=k+f;break;case "se":m=n+k+f;break;default:m=n+2*k+f}"gen"==e?
a.text(20,g,0,0,m.toString(),mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0):m-1<h.length&&a.text(20,g,0,0,h[m-1].toString(),mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);switch(l){case "nw":m=k+2*n-f+1;break;case "ne":m=2*k+2*n-f+1;break;case "se":m=n-f+1;break;default:m=k+n-f+1}"gen"==e?a.text(b-20,g,0,0,m.toString(),mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0):m-1<h.length&&a.text(b-20,g,0,0,h[m-1].toString(),mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,
0,null,0,0,0);g+=d;f++}f=1;for(g=.5*d+20;g<=b-.5*d-20;){a.moveTo(g,0);a.lineTo(g,10);a.moveTo(g,c-10);a.lineTo(g,c);switch(l){case "nw":m=n+f;break;case "ne":m=n+k+f;break;case "se":m=2*n+k+f;break;default:m=f}"gen"==e?a.text(g,c-20,0,0,m.toString(),mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0):m-1<h.length&&a.text(g,c-20,0,0,h[m-1].toString(),mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);switch(l){case "nw":m=2*k+2*n-f+1;break;case "ne":m=k-f+1;break;case "se":m=
k+n-f+1;break;default:m=2*k+n-f+1}"gen"==e?a.text(g,20,0,0,m.toString(),mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0):m-1<h.length&&a.text(g,20,0,0,h[m-1].toString(),mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);g+=d;f++}a.stroke()}else{a.setFontSize(.5*g);f=1;g=.5*d+20;n=parseInt((c-d-40)/d)+1;for(k=parseInt((b-d-40)/d)+1;g<=c-.5*d-20;){a.begin();a.rect(0,g-.25*d,10,.5*d);a.fillAndStroke();a.begin();a.rect(b-10,g-.25*d,10,.5*d);a.fillAndStroke();switch(l){case "nw":m=
f;break;case "ne":m=k+f;break;case "se":m=n+k+f;break;default:m=n+2*k+f}"gen"==e?a.text(5,g+1,0,0,m.toString(),mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0):m-1<h.length&&a.text(5,g+1,0,0,h[m-1].toString(),mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);switch(l){case "nw":m=k+2*n-f+1;break;case "ne":m=2*k+2*n-f+1;break;case "se":m=n-f+1;break;default:m=k+n-f+1}"gen"==e?a.text(b-5,g+1,0,0,m.toString(),mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0):
m-1<h.length&&a.text(b-5,g+1,0,0,h[m-1].toString(),mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);g+=d;f++}f=1;for(g=.5*d+20;g<=b-.5*d-20;){a.begin();a.rect(g-.25*d,0,.5*d,10);a.fillAndStroke();a.begin();a.rect(g-.25*d,c-10,.5*d,10);a.fillAndStroke();switch(l){case "nw":m=n+f;break;case "ne":m=n+k+f;break;case "se":m=2*n+k+f;break;default:m=f}"gen"==e?a.text(g,c-4,0,0,m.toString(),mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0):m-1<h.length&&a.text(g,c-4,0,0,h[m-1].toString(),
mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);switch(l){case "nw":m=2*k+2*n-f+1;break;case "ne":m=k-f+1;break;case "se":m=k+n-f+1;break;default:m=2*k+n-f+1}"gen"==e?a.text(g,6,0,0,m.toString(),mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0):m-1<h.length&&a.text(g,6,0,0,h[m-1].toString(),mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,0);g+=d;f++}}a.setShadow(!1);if(40<b){a.setFillColor(mxUtils.getValue(this.style,"strokeColor","#000000"));a.begin();switch(l){case "nw":a.ellipse(15,
15,10,10);break;case "ne":a.ellipse(b-25,15,10,10);break;case "se":a.ellipse(b-25,c-25,10,10);break;default:a.ellipse(15,c-25,10,10)}a.fillAndStroke()}};mxCellRenderer.registerShape(mxShapeElectricalQFPIC.prototype.cst.SHAPE_QFP_IC,mxShapeElectricalQFPIC);
mxShapeElectricalQFPIC.prototype.getConstraints=function(a,d,e){a=[];for(var b=parseFloat(mxUtils.getValue(this.style,"pinSpacing","20")),c=.5*b+20;c<=e-.5*b-20;)a.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,c)),a.push(new mxConnectionConstraint(new mxPoint(1,0),!1,null,0,c)),c+=b;for(c=.5*b+20;c<=d-.5*b-20;)a.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,c,0)),a.push(new mxConnectionConstraint(new mxPoint(0,1),!1,null,c,0)),c+=b;return a};
function mxShapeElectricalMux(a,d,e,b){mxShape.call(this);this.bounds=a;this.fill=d;this.stroke=e;this.strokewidth=null!=b?b:1}mxUtils.extend(mxShapeElectricalMux,mxShape);mxShapeElectricalMux.prototype.cst={SHAPE_MUX:"mxgraph.electrical.abstract.mux2"};
mxShapeElectricalMux.prototype.customProperties=[{name:"operation",dispName:"Operation",type:"enum",defVal:"mux",enumList:[{val:"mux",dispName:"Mux"},{val:"demux",dispName:"Demux"}]},{name:"selectorPins",dispName:"Selector Pins",type:"int",min:1,max:8,defVal:1}];
mxShapeElectricalMux.prototype.paintVertexShape=function(a,d,e,b,c){a.translate(d,e);d=parseInt(mxUtils.getValue(this.style,"selectorPins","1"));e=mxUtils.getValue(this.style,"operation","mux");var f=parseFloat(mxUtils.getValue(this.style,"fontSize","12"));a.setFontSize(.5*f);f=mxUtils.getValue(this.style,"fontColor","#000000");a.setFontColor(f);f=0;switch(mxUtils.getValue(this.style,"direction","east")){case "south":f=270;break;case "west":f=180;break;case "north":f=90}switch(e){case "demux":a.begin();
a.moveTo(b-10,0);a.lineTo(10,.1*c);a.lineTo(10,.9*c-10);a.lineTo(b-10,c-10);a.close();a.fillAndStroke();break;default:a.begin(),a.moveTo(10,0),a.lineTo(b-10,.1*c),a.lineTo(b-10,.9*c-10),a.lineTo(10,c-10),a.close(),a.fillAndStroke()}var h=1,g=1;if("mux"==e){h=Math.pow(2,d);var l=(c-16)/h}else g=Math.pow(2,d),l=(c-16)/g;var n=3+.5*l;a.begin();if(1==h)a.moveTo(0,.5*(c-10)),a.lineTo(10,.5*(c-10));else for(var k=0;k<h;k++)a.moveTo(0,n),a.lineTo(10,n),a.text(14,n+1,0,0,""+k.toString(),mxConstants.ALIGN_CENTER,
mxConstants.ALIGN_MIDDLE,0,null,0,0,f),n+=l;if(1==g)a.moveTo(b-10,.5*(c-10)),a.lineTo(b,.5*(c-10));else for(k=0;k<g;k++)a.moveTo(b-10,n),a.lineTo(b,n),a.text(b-14,n+1,0,0,""+k.toString(),mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,f),n+=l;l=(b-20)/d;h=10+.5*l;for(k=0;k<d;k++)"mux"==e?a.moveTo(h,c-10-(h-10)/(b-20)*c*.1):a.moveTo(h,c-10-(b-h-10)/(b-20)*c*.1),a.lineTo(h,c),a.text(h+5,c-4,0,0,"S"+(d-k-1).toString(),mxConstants.ALIGN_CENTER,mxConstants.ALIGN_MIDDLE,0,null,0,0,f),h+=l;
a.stroke()};mxCellRenderer.registerShape(mxShapeElectricalMux.prototype.cst.SHAPE_MUX,mxShapeElectricalMux);
mxShapeElectricalMux.prototype.getConstraints=function(a,d,e){a=[];var b=(e-16)/e,c=parseInt(mxUtils.getValue(this.style,"selectorPins","1")),f=1,h=1;"mux"==mxUtils.getValue(this.style,"operation","mux")?(f=Math.pow(2,c),b/=f):(h=Math.pow(2,c),b/=h);var g=.5*b;if(1==f)a.push(new mxConnectionConstraint(new mxPoint(0,.5*(e-10)/e),!1,0,0));else for(e=0;e<f;e++)a.push(new mxConnectionConstraint(new mxPoint(0,g),!1,null,0,3)),g+=b;if(1==h)a.push(new mxConnectionConstraint(new mxPoint(1,.5),!1,null,0,-5));
else for(e=0;e<h;e++)a.push(new mxConnectionConstraint(new mxPoint(1,g),!1,null,0,3)),g+=b;b=(d-20)/(d*c);d=.5*b;for(e=0;e<c;e++)a.push(new mxConnectionConstraint(new mxPoint(d,1),!1,null,10,0)),d+=b;return a};function mxShapeElectricalBatteryStack(a,d,e,b){mxShape.call(this);this.bounds=a;this.fill=d;this.stroke=e;this.strokewidth=null!=b?b:1}mxUtils.extend(mxShapeElectricalBatteryStack,mxShape);mxShapeElectricalBatteryStack.prototype.cst={SHAPE_BATTERY_STACK:"mxgraph.electrical.miscellaneous.batteryStack"};
mxShapeElectricalBatteryStack.prototype.paintVertexShape=function(a,d,e,b,c){a.translate(d,e);d=.3*c;var f=mxUtils.getValue(this.style,mxConstants.STYLE_STROKECOLOR,"#000000");e=mxUtils.getValue(this.style,mxConstants.STYLE_DASHED,"0");var h=Math.floor((b-20)/d),g=.5*(b-h*d);if(0<h)for(a.begin(),a.moveTo(0,.5*c),a.lineTo(g+.2*d,.5*c),a.moveTo(b-g-.2*d,.5*c),a.lineTo(b,.5*c),a.stroke(),b=g,a.setFillColor(f),f=0;f<h;f++)a.rect(b+.2*d,.25*c,.2*d,.5*c),a.fillAndStroke(),a.begin(),a.moveTo(b+.8*d,0),a.lineTo(b+
.8*d,c),a.stroke(),0<f&&(a.setDashed("1"),a.begin(),a.moveTo(b-.2*d,.5*c),a.lineTo(b+.2*d,.5*c),a.stroke(),a.setDashed(e)),b+=d};mxCellRenderer.registerShape(mxShapeElectricalBatteryStack.prototype.cst.SHAPE_BATTERY_STACK,mxShapeElectricalBatteryStack);mxShapeElectricalBatteryStack.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0)];
function mxShapeElectricalDCSource3_v2(a,d,e,b){mxShape.call(this);this.bounds=a;this.fill=d;this.stroke=e;this.strokewidth=null!=b?b:1}mxUtils.extend(mxShapeElectricalDCSource3_v2,mxShape);mxShapeElectricalDCSource3_v2.prototype.cst={SHAPE_DC_SOURCE_3_V2:"mxgraph.electrical.signal_sources.dc_source_3_v2"};
mxShapeElectricalDCSource3_v2.prototype.paintVertexShape=function(a,d,e,b,c){a.translate(d,e);d=Math.max(3,.05*Math.min(c,b));a.ellipse(0,0,b,c);a.fillAndStroke();a.begin();a.moveTo(.5*b-d,.05*c+3);a.lineTo(.5*b+d,.05*c+3);a.moveTo(.5*b,.05*c-d+3);a.lineTo(.5*b,.05*c+d+3);a.moveTo(.5*b-d,.95*c-3);a.lineTo(.5*b+d,.95*c-3);a.stroke()};mxCellRenderer.registerShape(mxShapeElectricalDCSource3_v2.prototype.cst.SHAPE_DC_SOURCE_3_V2,mxShapeElectricalDCSource3_v2);
mxShapeElectricalDCSource3_v2.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0)];function mxShapeElectricalSource(a,d,e,b){mxShape.call(this);this.bounds=a;this.fill=d;this.stroke=e;this.strokewidth=null!=b?b:1}mxUtils.extend(mxShapeElectricalSource,mxShape);mxShapeElectricalSource.prototype.cst={SHAPE_SOURCE:"mxgraph.electrical.signal_sources.source"};
mxShapeElectricalSource.prototype.customProperties=[{name:"elSourceType",dispName:"Source Type",type:"enum",defVal:"independent",enumList:[{val:"independent",dispName:"Independent"},{val:"dependent",dispName:"Dependent"}]},{name:"elSignalType",dispName:"Signal Type",type:"enum",defVal:"ac",enumList:[{val:"ac",dispName:"AC"},{val:"none",dispName:"None"},{val:"square",dispName:"Square"},{val:"triangular",dispName:"Triangular"},{val:"sawtooth",dispName:"Sawtooth"},{val:"noise",dispName:"Noise"},{val:"ideal",
dispName:"Ideal"},{val:"expSquib",dispName:"Explosive Squib"},{val:"pulse",dispName:"Pulse"},{val:"invPulse",dispName:"Inverse Pulse"},{val:"chopSquare",dispName:"Chopped Square"},{val:"stepOn",dispName:"Step On"},{val:"stepOff",dispName:"Step Off"},{val:"dc1",dispName:"DC Horizontal"},{val:"dc2",dispName:"DC Vertical"},{val:"dc3",dispName:"DC Plus minus"}]}];
mxShapeElectricalSource.prototype.paintVertexShape=function(a,d,e,b,c){a.translate(d,e);d=mxUtils.getValue(this.style,"elSourceType","independent");e=mxUtils.getValue(this.style,"elSignalType","none");switch(d){case "independent":a.ellipse(0,0,b,c);a.fillAndStroke();break;case "dependent":a.begin(),a.moveTo(0,.5*c),a.lineTo(.5*b,0),a.lineTo(b,.5*c),a.lineTo(.5*b,c),a.lineTo(0,.5*c),a.close(),a.fillAndStroke()}switch(e){case "ac":a.begin();a.moveTo(.3*b,.5*c);a.quadTo(.34*b,.35*c,.4*b,.35*c);a.quadTo(.46*
b,.35*c,.5*b,.5*c);a.quadTo(.53*b,.65*c,.6*b,.65*c);a.quadTo(.66*b,.65*c,.7*b,.5*c);a.stroke();break;case "square":a.begin();a.moveTo(.3*b,.5*c);a.lineTo(.3*b,.35*c);a.lineTo(.5*b,.35*c);a.lineTo(.5*b,.65*c);a.lineTo(.7*b,.65*c);a.lineTo(.7*b,.5*c);a.stroke();break;case "triangular":a.begin();a.moveTo(.3*b,.65*c);a.lineTo(.4*b,.35*c);a.lineTo(.5*b,.65*c);a.lineTo(.6*b,.35*c);a.lineTo(.7*b,.65*c);a.stroke();break;case "sawtooth":a.begin();a.moveTo(.24*b,.65*c);a.lineTo(.42*b,.35*c);a.lineTo(.42*b,
.65*c);a.lineTo(.58*b,.35*c);a.lineTo(.58*b,.65*c);a.lineTo(.76*b,.35*c);a.lineTo(.76*b,.65*c);a.stroke();break;case "noise":a.begin();a.moveTo(.5*b,.17*c);a.lineTo(.5*b,.5*c);a.moveTo(.18*b,.42*c);a.lineTo(.5*b,.5*c);a.moveTo(.32*b,.78*c);a.lineTo(.5*b,.5*c);a.moveTo(.82*b,.42*c);a.lineTo(.5*b,.5*c);a.moveTo(.68*b,.78*c);a.lineTo(.5*b,.5*c);a.stroke();break;case "ideal":a.begin();a.moveTo(0,.5*c);a.lineTo(b,.5*c);a.stroke();break;case "expSquib":a.ellipse(0,.43*c,.14*b,.14*c);a.stroke();a.ellipse(.86*
b,.43*c,.14*b,.14*c);a.stroke();a.begin();a.moveTo(.83*b,.63*c);a.lineTo(.73*b,.73*c);a.lineTo(.27*b,.27*c);a.lineTo(.17*b,.37*c);a.stroke();a.begin();d=mxUtils.getValue(this.style,mxConstants.STYLE_STROKECOLOR,"#000000");a.setFillColor(d);a.moveTo(.2*b,.25*c);a.lineTo(.13*b,.4*c);a.lineTo(.28*b,.33*c);a.close();a.fillAndStroke();break;case "pulse":a.begin();a.moveTo(.3*b,.65*c);a.lineTo(.4*b,.65*c);a.lineTo(.4*b,.35*c);a.lineTo(.6*b,.35*c);a.lineTo(.6*b,.65*c);a.lineTo(.7*b,.65*c);a.stroke();break;
case "invPulse":a.begin();a.moveTo(.3*b,.35*c);a.lineTo(.4*b,.35*c);a.lineTo(.4*b,.65*c);a.lineTo(.6*b,.65*c);a.lineTo(.6*b,.35*c);a.lineTo(.7*b,.35*c);a.stroke();break;case "chopSquare":a.begin();a.moveTo(.3*b,.5*c);a.lineTo(.33*b,.35*c);a.lineTo(.47*b,.35*c);a.lineTo(.53*b,.65*c);a.lineTo(.67*b,.65*c);a.lineTo(.7*b,.5*c);a.stroke();break;case "stepOn":a.begin();a.moveTo(.3*b,.65*c);a.lineTo(.5*b,.65*c);a.lineTo(.5*b,.35*c);a.lineTo(.7*b,.35*c);a.stroke();break;case "stepOff":a.begin();a.moveTo(.3*
b,.35*c);a.lineTo(.5*b,.35*c);a.lineTo(.5*b,.65*c);a.lineTo(.7*b,.65*c);a.stroke();break;case "dc1":a.begin();a.moveTo(.17*b,.5*c);a.lineTo(.83*b,.5*c);a.moveTo(.67*b,.42*c);a.lineTo(.83*b,.5*c);a.lineTo(.67*b,.58*c);a.stroke();break;case "dc2":a.begin();a.moveTo(.5*b,.17*c);a.lineTo(.5*b,.83*c);a.moveTo(.42*b,.67*c);a.lineTo(.5*b,.83*c);a.lineTo(.58*b,.67*c);a.stroke();break;case "dc3":e=Math.max(3,.05*Math.min(c,b));var f=3;"dependent"==d&&(f+=3);a.begin();a.moveTo(.5*b-e,.05*c+f);a.lineTo(.5*b+
e,.05*c+f);a.moveTo(.5*b,.05*c-e+f);a.lineTo(.5*b,.05*c+e+f);a.moveTo(.5*b-e,.95*c-f);a.lineTo(.5*b+e,.95*c-f);a.stroke()}};mxCellRenderer.registerShape(mxShapeElectricalSource.prototype.cst.SHAPE_SOURCE,mxShapeElectricalSource);function mxShapeElectricalTwoWaySwitch(a,d,e,b){mxShape.call(this);this.bounds=a;this.fill=d;this.stroke=e;this.strokewidth=null!=b?b:1}mxUtils.extend(mxShapeElectricalTwoWaySwitch,mxShape);mxShapeElectricalTwoWaySwitch.prototype.cst={SHAPE_TWO_WAY_SWITCH:"mxgraph.electrical.electro-mechanical.twoWaySwitch"};
mxShapeElectricalTwoWaySwitch.prototype.customProperties=[{name:"elSwitchState",dispName:"Switch State",type:"int",min:1,defVal:"1"}];
mxShapeElectricalTwoWaySwitch.prototype.paintVertexShape=function(a,d,e,b,c){a.translate(d,e);d=mxUtils.getValue(this.style,"elSwitchState","1");a.begin();a.moveTo(0,.5*c);a.lineTo(.2*b,.5*c);a.moveTo(.8*b,.88*c);a.lineTo(b,.88*c);a.moveTo(.8*b,.12*c);a.lineTo(b,.12*c);"2"==d?(a.moveTo(.28*b,.48*c),a.lineTo(.72*b,.15*c)):(a.moveTo(.28*b,.52*c),a.lineTo(.72*b,.85*c));a.stroke();a.ellipse(.72*b,.77*c,.08*b,.23*c);a.fillAndStroke();a.ellipse(.72*b,0,.08*b,.23*c);a.fillAndStroke();a.ellipse(.2*b,.385*
c,.08*b,.23*c);a.fillAndStroke()};mxCellRenderer.registerShape(mxShapeElectricalTwoWaySwitch.prototype.cst.SHAPE_TWO_WAY_SWITCH,mxShapeElectricalTwoWaySwitch);mxShapeElectricalTwoWaySwitch.prototype.constraints=[new mxConnectionConstraint(new mxPoint(1,.12),!0),new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(1,.88),!0)];function mxShapeElectricalPushbutton(a,d,e,b){mxShape.call(this);this.bounds=a;this.fill=d;this.stroke=e;this.strokewidth=null!=b?b:1}
mxUtils.extend(mxShapeElectricalPushbutton,mxShape);mxShapeElectricalPushbutton.prototype.cst={SHAPE_PUSHBUTTON:"mxgraph.electrical.electro-mechanical.pushbutton"};mxShapeElectricalPushbutton.prototype.customProperties=[{name:"elSwitchState",dispName:"Switch State",type:"enum",defVal:"on",enumList:[{val:"on",dispName:"On"},{val:"off",dispName:"Off"}]}];
mxShapeElectricalPushbutton.prototype.paintVertexShape=function(a,d,e,b,c){a.translate(d,e);d=mxUtils.getValue(this.style,"elSwitchState","on");a.begin();a.moveTo(0,.8*c);a.lineTo(.2*b,.8*c);a.moveTo(.8*b,.8*c);a.lineTo(b,.8*c);"off"==d?(a.moveTo(.5*b,.5*c),a.lineTo(.5*b,0),a.moveTo(.46*b,0),a.lineTo(.54*b,0),a.moveTo(.2*b,.5*c),a.lineTo(.8*b,.5*c)):(a.moveTo(.5*b,c),a.lineTo(.5*b,.5*c),a.moveTo(.46*b,.5*c),a.lineTo(.54*b,.5*c),a.moveTo(.2*b,c),a.lineTo(.8*b,c));a.stroke();a.ellipse(.72*b,.65*c,.08*
b,.3*c);a.fillAndStroke();a.ellipse(.2*b,.65*c,.08*b,.3*c);a.fillAndStroke()};mxCellRenderer.registerShape(mxShapeElectricalPushbutton.prototype.cst.SHAPE_PUSHBUTTON,mxShapeElectricalPushbutton);mxShapeElectricalPushbutton.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,.8),!0),new mxConnectionConstraint(new mxPoint(1,.8),!0)];function mxShapeElectricalSingleSwitch(a,d,e,b){mxShape.call(this);this.bounds=a;this.fill=d;this.stroke=e;this.strokewidth=null!=b?b:1}
mxUtils.extend(mxShapeElectricalSingleSwitch,mxShape);mxShapeElectricalSingleSwitch.prototype.cst={SHAPE_SINGLE_SWITCH:"mxgraph.electrical.electro-mechanical.singleSwitch"};mxShapeElectricalSingleSwitch.prototype.customProperties=[{name:"elSwitchState",dispName:"Switch State",type:"enum",defVal:"on",enumList:[{val:"on",dispName:"On"},{val:"off",dispName:"Off"}]}];
mxShapeElectricalSingleSwitch.prototype.paintVertexShape=function(a,d,e,b,c){a.translate(d,e);d=mxUtils.getValue(this.style,"elSwitchState","on");a.begin();a.moveTo(0,.8*c);a.lineTo(.2*b,.8*c);a.moveTo(.8*b,.8*c);a.lineTo(b,.8*c);"off"==d?(a.moveTo(.28*b,.75*c),a.lineTo(.76*b,0)):(a.moveTo(.2*b,.8*c),a.lineTo(.8*b,.8*c));a.stroke();a.ellipse(.72*b,.65*c,.08*b,.3*c);a.fillAndStroke();a.ellipse(.2*b,.65*c,.08*b,.3*c);a.fillAndStroke()};
mxCellRenderer.registerShape(mxShapeElectricalSingleSwitch.prototype.cst.SHAPE_SINGLE_SWITCH,mxShapeElectricalSingleSwitch);mxShapeElectricalSingleSwitch.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,.8),!0),new mxConnectionConstraint(new mxPoint(1,.8),!0)];